
Now we have a shell payload which for the time being is not detected by the AV so will compile it using netcat and reverse shell

We have serveral options:
- PowerShell but it may get detected
- PHP reverse shell it may also get picked up
- Msfvenom may generate a distinctive we could use [Veil Framework](https://www.veil-framework.com/) or Shelter
- Uploading netcat is the quickest and easy option.


What is cross-compilation techniques ?_?
The idea is to compile source code into a working program to run on a different platform.
It's an cross compilation skill although in many ways it's preferable to avoid it.

Always try to compile code into an environment as close to the target environment as possible.
Cross-compile x64 windows programs on kali using the mingw-64 package.

It's a big package but just like gcc used to compile binaries on Linux, we can use the mingw compilers to compile windows binaries.

Will run make to build the binary the correct compiler will be used to generate a x64 windows
executable. Note there will be a lot of warnings generated by the compiler.

We have to download the nc.exe from the github and compile it on kali linux.
https://github.com/int0x33/nc.exe/
```
CC=x86_64-w64-mingw32-gcc
```

MakeFile:
![[Pasted image 20240114204304.png]]


Package:
```
sudo apt install mingw-w64
```

![[Pasted image 20240114204927.png]]

Note we have to remove or mv the already compiled binary in order for this to get working.


